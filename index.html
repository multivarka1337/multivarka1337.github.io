<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∏–¥–µ–æ–ø–ª–µ–µ—Ä</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        body {
            background-color: #0a0a0a;
            color: #f0f0f0;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            max-width: 1600px;
            margin: 0 auto;
        }
        
        header {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid #222;
            background-color: #111;
        }
        
        h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            color: #fff;
        }
        
        .subtitle {
            color: #888;
            font-size: 0.9rem;
        }
        
        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
        }
        
        .video-section {
            flex: 3;
            display: flex;
            flex-direction: column;
            padding: 20px;
            background-color: #111;
        }
        
        .video-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: #000;
            border-radius: 8px;
            overflow: hidden;
        }
        
        video {
            width: 100%;
            height: 100%;
            object-fit: contain;
            outline: none;
        }
        
        .video-info {
            padding: 15px;
            background-color: #1a1a1a;
            border-top: 1px solid #222;
        }
        
        .video-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #fff;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .video-meta {
            display: flex;
            gap: 20px;
            color: #888;
            font-size: 0.9rem;
        }
        
        .playlist-section {
            flex: 1;
            min-width: 300px;
            background-color: #111;
            border-left: 1px solid #222;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        @media (max-width: 768px) {
            .playlist-section {
                border-left: none;
                border-top: 1px solid #222;
                min-width: unset;
            }
        }
        
        .playlist-header {
            padding: 20px;
            border-bottom: 1px solid #222;
        }
        
        .playlist-header h3 {
            font-size: 1.2rem;
            color: #fff;
            margin-bottom: 5px;
        }
        
        .video-count {
            color: #888;
            font-size: 0.9rem;
        }
        
        .playlist-container {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }
        
        .video-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            margin-bottom: 8px;
            background-color: #1a1a1a;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }
        
        .video-item:hover {
            background-color: #222;
            border-color: #333;
        }
        
        .video-item.active {
            background-color: #2a2a2a;
            border-color: #4a90e2;
        }
        
        .video-icon {
            margin-right: 12px;
            font-size: 1.2rem;
            color: #4a90e2;
        }
        
        .video-item-info {
            flex: 1;
            min-width: 0;
        }
        
        .video-item-name {
            font-size: 0.95rem;
            color: #fff;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin-bottom: 3px;
        }
        
        .video-item-size {
            font-size: 0.8rem;
            color: #888;
        }
        
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            text-align: center;
            height: 100%;
        }
        
        .empty-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #444;
        }
        
        .empty-state h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #fff;
        }
        
        .empty-state p {
            color: #888;
            margin-bottom: 20px;
            max-width: 400px;
            line-height: 1.5;
        }
        
        .btn {
            background-color: #4a90e2;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .btn:hover {
            background-color: #3a80d2;
            transform: translateY(-2px);
        }
        
        footer {
            padding: 15px;
            text-align: center;
            border-top: 1px solid #222;
            background-color: #111;
            color: #666;
            font-size: 0.8rem;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .control-btn {
            background-color: #2a2a2a;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .control-btn:hover {
            background-color: #333;
        }
        
        .control-btn.primary {
            background-color: #4a90e2;
        }
        
        .control-btn.primary:hover {
            background-color: #3a80d2;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #444;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #333;
            border-radius: 50%;
            border-top-color: #4a90e2;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>–í–∏–¥–µ–æ–ø–ª–µ–µ—Ä</h1>
            <p class="subtitle">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –≤–∏–¥–µ–æ –∏–∑ –ø–∞–ø–∫–∏ /videos</p>
        </header>
        
        <div class="main-content">
            <section class="video-section">
                <div class="video-container">
                    <video id="videoPlayer" controls>
                        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ–≥ video.
                    </video>
                    
                    <div class="video-info">
                        <div class="video-title" id="currentVideoTitle">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–µ–æ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è</div>
                        <div class="video-meta">
                            <div>–§–æ—Ä–º–∞—Ç: <span id="videoFormat">-</span></div>
                            <div>–†–∞–∑–º–µ—Ä: <span id="videoSize">-</span></div>
                            <div>–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: <span id="videoResolution">-</span></div>
                        </div>
                        
                        <div class="controls">
                            <button class="control-btn primary" id="playBtn">
                                <span>‚ñ∂</span> –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏
                            </button>
                            <button class="control-btn" id="pauseBtn">
                                <span>‚è∏</span> –ü–∞—É–∑–∞
                            </button>
                            <button class="control-btn" id="fullscreenBtn">
                                <span>‚õ∂</span> –ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω
                            </button>
                            <button class="control-btn" id="muteBtn">
                                <span>üîä</span> –í—ã–∫–ª/–í–∫–ª –∑–≤—É–∫
                            </button>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="playlist-section">
                <div class="playlist-header">
                    <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∏–¥–µ–æ</h3>
                    <div class="video-count">
                        <span id="videoCount">0</span> –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤
                    </div>
                </div>
                
                <div class="playlist-container" id="playlistContainer">
                    <div id="loadingState" class="empty-state">
                        <div class="loading"></div>
                        <p>–ü–æ–∏—Å–∫ –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ /videos...</p>
                    </div>
                    
                    <div id="emptyState" class="empty-state hidden">
                        <div class="empty-icon">üé¨</div>
                        <h3>–í–∏–¥–µ–æ—Ñ–∞–π–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                        <p>–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É <code>/videos</code> –≤ –≤–∞—à–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ç—É–¥–∞ –≤–∏–¥–µ–æ—Ñ–∞–π–ª—ã (MP4, WebM, OGG)</p>
                        <button class="btn" id="refreshBtn">–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
                    </div>
                    
                    <div id="playlistContent" class="hidden">
                        <!-- –°–ø–∏—Å–æ–∫ –≤–∏–¥–µ–æ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </section>
        </div>
        
        <footer>
            <p>–í–∏–¥–µ–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –ø–∞–ø–∫–∏ /videos –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏</p>
        </footer>
    </div>

    <script>
        // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã DOM
        const videoPlayer = document.getElementById('videoPlayer');
        const currentVideoTitle = document.getElementById('currentVideoTitle');
        const videoFormat = document.getElementById('videoFormat');
        const videoSize = document.getElementById('videoSize');
        const videoResolution = document.getElementById('videoResolution');
        const playlistContainer = document.getElementById('playlistContainer');
        const playlistContent = document.getElementById('playlistContent');
        const loadingState = document.getElementById('loadingState');
        const emptyState = document.getElementById('emptyState');
        const videoCount = document.getElementById('videoCount');
        const refreshBtn = document.getElementById('refreshBtn');
        
        // –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const muteBtn = document.getElementById('muteBtn');
        
        // –°–ø–∏—Å–æ–∫ –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤
        let videoFiles = [];
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫
            setupEventListeners();
            
            // –ò—â–µ–º –≤–∏–¥–µ–æ—Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ /videos
            discoverVideoFiles();
        });
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ /videos
        async function discoverVideoFiles() {
            showLoadingState();
            
            try {
                // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∏–∑ –ø–∞–ø–∫–∏ /videos
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞ GitHub Pages –º—ã –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ GitHub API
                // –ù–æ –∑–¥–µ—Å—å –º—ã —ç–º—É–ª–∏—Ä—É–µ–º —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å –ø—Ä–∏–º–µ—Ä–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
                
                // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–µ—Å—Å–∏–π
                const savedVideos = localStorage.getItem('discoveredVideos');
                if (savedVideos) {
                    try {
                        videoFiles = JSON.parse(savedVideos);
                        if (videoFiles.length > 0) {
                            displayVideoList();
                            return;
                        }
                    } catch(e) {
                        console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ:", e);
                    }
                }
                
                // –ò—â–µ–º –≤–∏–¥–µ–æ—Ñ–∞–π–ª—ã –≤ —Ä–∞–∑–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
                await searchForVideoFiles();
                
            } catch (error) {
                console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤:", error);
                showEmptyState();
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤
        async function searchForVideoFiles() {
            // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ
            const foundVideos = [];
            
            // –°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–π –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤
            const videoLocations = [
                'videos/',
                './videos/',
                '/videos/',
                '../videos/'
            ];
            
            // –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—â–µ–º
            const videoExtensions = ['.mp4', '.webm', '.ogg', '.mov', '.avi', '.mkv'];
            
            // –ò–º–µ–Ω–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ –≤–∏–¥–µ–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
            const exampleVideos = [
                { name: "–ü—Ä–∏–º–µ—Ä –≤–∏–¥–µ–æ 1.mp4", size: "15.2 –ú–ë" },
                { name: "–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è.mp4", size: "8.7 –ú–ë" },
                { name: "–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è.webm", size: "22.1 –ú–ë" },
                { name: "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.ogg", size: "5.3 –ú–ë" }
            ];
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∫–æ–¥ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –∫ GitHub API
            // –∏–ª–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
            
            // –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∏–º–µ—Ä—ã –≤–∏–¥–µ–æ
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–º–µ–Ω–∏—Ç —ç—Ç–æ—Ç –∫–æ–¥
            exampleVideos.forEach((video, index) => {
                const extension = video.name.split('.').pop().toLowerCase();
                const isVideo = videoExtensions.includes('.' + extension);
                
                if (isVideo) {
                    // –°–æ–∑–¥–∞–µ–º URL –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –≤–∏–¥–µ–æ (–∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∏–º–µ—Ä—ã —Å YouTube)
                    const exampleUrls = [
                        "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
                        "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",
                        "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",
                        "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4"
                    ];
                    
                    foundVideos.push({
                        name: video.name,
                        url: exampleUrls[index % exampleUrls.length],
                        size: video.size,
                        path: `videos/${video.name}`
                    });
                }
            });
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ
            videoFiles = foundVideos;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
            localStorage.setItem('discoveredVideos', JSON.stringify(videoFiles));
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å–ø–∏—Å–æ–∫
            if (videoFiles.length > 0) {
                displayVideoList();
            } else {
                showEmptyState();
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≤–∏–¥–µ–æ
        function displayVideoList() {
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
            videoCount.textContent = videoFiles.length;
            
            // –û—á–∏—â–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞
            playlistContent.innerHTML = '';
            
            // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–µ–æ
            videoFiles.forEach((video, index) => {
                const videoItem = document.createElement('div');
                videoItem.className = 'video-item';
                videoItem.dataset.index = index;
                
                videoItem.innerHTML = `
                    <div class="video-icon">üé¨</div>
                    <div class="video-item-info">
                        <div class="video-item-name">${video.name}</div>
                        <div class="video-item-size">${video.size || '–†–∞–∑–º–µ—Ä –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω'}</div>
                    </div>
                `;
                
                videoItem.addEventListener('click', function() {
                    // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å active —É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                    document.querySelectorAll('.video-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å active —Ç–µ–∫—É—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
                    this.classList.add('active');
                    
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ
                    const videoIndex = parseInt(this.dataset.index);
                    loadVideo(videoIndex);
                });
                
                playlistContent.appendChild(videoItem);
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –ø–ª–µ–π–ª–∏—Å—Ç–∞
            loadingState.classList.add('hidden');
            emptyState.classList.add('hidden');
            playlistContent.classList.remove('hidden');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–≤–æ–µ –≤–∏–¥–µ–æ, –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –Ω–µ –ø—É—Å—Ç–æ–π
            if (videoFiles.length > 0) {
                // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
                playlistContent.firstChild.classList.add('active');
                loadVideo(0);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ –ø–æ –∏–Ω–¥–µ–∫—Å—É
        function loadVideo(index) {
            if (index < 0 || index >= videoFiles.length) return;
            
            const video = videoFiles[index];
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫ –≤–∏–¥–µ–æ
            videoPlayer.src = video.url;
            currentVideoTitle.textContent = video.name;
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∏–¥–µ–æ
            videoFormat.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞...';
            videoSize.textContent = video.size || '–ó–∞–≥—Ä—É–∑–∫–∞...';
            videoResolution.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞...';
            
            // –ö–æ–≥–¥–∞ –≤–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ, –ø–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ–º
            videoPlayer.addEventListener('loadedmetadata', function onLoad() {
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ–æ—Ä–º–∞—Ç –≤–∏–¥–µ–æ –∏–∑ URL
                const urlParts = video.url.split('.');
                const format = urlParts.length > 1 ? urlParts.pop().toUpperCase() : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
                videoFormat.textContent = format;
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤–∏–¥–µ–æ
                const resolution = `${videoPlayer.videoWidth} √ó ${videoPlayer.videoHeight}`;
                videoResolution.textContent = resolution;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–∑–º–µ—Ä–µ, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ –±—ã–ª–∞ —É–∫–∞–∑–∞–Ω–∞
                if (!video.size || video.size === '–ó–∞–≥—Ä—É–∑–∫–∞...') {
                    getVideoFileSize(video.url).then(size => {
                        videoSize.textContent = formatFileSize(size);
                    }).catch(() => {
                        videoSize.textContent = '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
                    });
                }
                
                // –£–¥–∞–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, —á—Ç–æ–±—ã –æ–Ω –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª –ø–æ–≤—Ç–æ—Ä–Ω–æ
                videoPlayer.removeEventListener('loadedmetadata', onLoad);
            });
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            videoPlayer.play().catch(e => {
                console.log("–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –±—Ä–∞—É–∑–µ—Ä–æ–º");
            });
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
        async function getVideoFileSize(url) {
            try {
                const response = await fetch(url, { method: 'HEAD' });
                if (response.ok) {
                    const size = response.headers.get('Content-Length');
                    return size ? parseInt(size) : 0;
                }
                return 0;
            } catch (error) {
                return 0;
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 –ë–∞–π—Ç';
            
            const k = 1024;
            const sizes = ['–ë–∞–π—Ç', '–ö–ë', '–ú–ë', '–ì–ë'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // –§—É–Ω–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –ö–Ω–æ–ø–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
            playBtn.addEventListener('click', function() {
                videoPlayer.play();
                updatePlayButtonState(true);
            });
            
            // –ö–Ω–æ–ø–∫–∞ –ø–∞—É–∑—ã
            pauseBtn.addEventListener('click', function() {
                videoPlayer.pause();
                updatePlayButtonState(false);
            });
            
            // –ö–Ω–æ–ø–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
            fullscreenBtn.addEventListener('click', function() {
                if (videoPlayer.requestFullscreen) {
                    videoPlayer.requestFullscreen();
                } else if (videoPlayer.webkitRequestFullscreen) {
                    videoPlayer.webkitRequestFullscreen();
                } else if (videoPlayer.mozRequestFullScreen) {
                    videoPlayer.mozRequestFullScreen();
                } else if (videoPlayer.msRequestFullscreen) {
                    videoPlayer.msRequestFullscreen();
                }
            });
            
            // –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∑–≤—É–∫–∞
            muteBtn.addEventListener('click', function() {
                videoPlayer.muted = !videoPlayer.muted;
                updateMuteButtonState();
            });
            
            // –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞
            refreshBtn.addEventListener('click', function() {
                discoverVideoFiles();
            });
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–∏–¥–µ–æ
            videoPlayer.addEventListener('play', function() {
                updatePlayButtonState(true);
            });
            
            videoPlayer.addEventListener('pause', function() {
                updatePlayButtonState(false);
            });
            
            videoPlayer.addEventListener('volumechange', function() {
                updateMuteButtonState();
            });
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
        function updatePlayButtonState(isPlaying) {
            if (isPlaying) {
                playBtn.innerHTML = '<span>‚è∏</span> –ü–∞—É–∑–∞';
                playBtn.onclick = function() { videoPlayer.pause(); };
            } else {
                playBtn.innerHTML = '<span>‚ñ∂</span> –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏';
                playBtn.onclick = function() { videoPlayer.play(); };
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–∫–∏ –∑–≤—É–∫–∞
        function updateMuteButtonState() {
            if (videoPlayer.muted) {
                muteBtn.innerHTML = '<span>üîá</span> –í–∫–ª –∑–≤—É–∫';
            } else {
                muteBtn.innerHTML = '<span>üîä</span> –í—ã–∫–ª –∑–≤—É–∫';
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
        function showLoadingState() {
            loadingState.classList.remove('hidden');
            emptyState.classList.add('hidden');
            playlistContent.classList.add('hidden');
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        function showEmptyState() {
            loadingState.classList.add('hidden');
            emptyState.classList.remove('hidden');
            playlistContent.classList.add('hidden');
            videoCount.textContent = '0';
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –≤–∏–¥–µ–æ (–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)
        function setupDemoMode() {
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω—Å–æ–ª—å
            console.log("–í–∏–¥–µ–æ–ø–ª–µ–µ—Ä –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!");
            console.log("–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –≤–∏–¥–µ–æ:");
            console.log("1. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É 'videos' –≤ –≤–∞—à–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏");
            console.log("2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç—É–¥–∞ –≤–∏–¥–µ–æ—Ñ–∞–π–ª—ã (MP4, WebM, OGG)");
            console.log("3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É");
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –¥–µ–º–æ-—Ä–µ–∂–∏–º
        setupDemoMode();
    </script>
</body>
</html>
